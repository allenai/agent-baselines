{"id":"agent-baselines-24n","title":"Decouple solvers for per-solver deps","description":"Allow each solver to run in its own dependency context so astabench/inspect_ai and solver-specific deps can vary without cross-conflicts. Standardize on one uv sub-project per solver (solvers/\u003csolver\u003e/pyproject.toml + uv.lock) plus consistent setup/run scripts.","acceptance_criteria":"- Each solver can declare its dependency set (including astabench/inspect_ai pairing)\n- Docker/local workflows run solvers via per-solver uv projects (no cross-solver pollution)\n- Docs + onboarding make adding a new solver mechanical","status":"closed","priority":1,"issue_type":"epic","owner":"stefanc@allenai.org","created_at":"2026-01-26T13:48:31.988151-08:00","created_by":"stefanc-ai2","updated_at":"2026-02-02T02:30:24.416968-08:00","closed_at":"2026-02-02T02:30:24.416968-08:00","close_reason":"All solvers now run via per-solver uv sub-projects with committed locks; docker + CI + docs + scaffold + tests make dependency isolation and adding new solvers mechanical.","comments":[{"id":8,"issue_id":"agent-baselines-24n","author":"stefanc-ai2","text":"Completed epic: per-solver dependency isolation (one uv sub-project per solver).\n\nOutcome:\n- Each solver now declares its own deps in `solvers/\u003csolver\u003e/pyproject.toml` with a committed `solvers/\u003csolver\u003e/uv.lock` (including per-solver `inspect_ai` pins/overrides).\n- Standardized solver workflows:\n  - `./scripts/solver_uv.sh lock|sync|run \u003csolver\u003e -- ...` (repo-root aware)\n  - `solvers/\u003csolver\u003e/setup.sh` and `demo.sh` call through `solver_uv.sh`\n- Docker support:\n  - `docker/Dockerfile` solver stages install deps via the solver uv sub-projects (cached; `UV_FROZEN=1`).\n- Docs + onboarding:\n  - `docs/per_solver_envs.md` describes the strategy, constraints (astabench pin), and the override approach.\n  - Added a mechanical new-solver path via `./scripts/new_solver.sh \u003csolver\u003e`.\n- Regression protection:\n  - Fast, offline tests cover `solver_uv.sh` behavior + sub-project hygiene.\n  - Integration smoke script `scripts/smoke_solvers.sh` + `make smoke-solvers`; CI runs a minimal smoke (`react` + `paper_finder`) to prove differing Inspect versions work in separate envs.\n- Inspect version drift handling:\n  - Centralized version-sensitive Inspect imports/fallbacks in `agent_baselines/inspect_compat.py` and added a test to prevent private imports outside compat.\n\nValidation:\n- `uv run --extra dev --extra smolagents -m pytest -q`\n- `./scripts/smoke_solvers.sh` (and CI smoke subset)\n","created_at":"2026-02-02T10:30:17Z"}]}
{"id":"agent-baselines-24n.1","title":"Inventory Inspect usage + version constraints per solver","description":"Audit agent_baselines codepaths and solver scripts to identify Inspect APIs in use and any version-specific behaviors; propose target Inspect versions per solver.","acceptance_criteria":"- List of Inspect APIs used per solver\\n- Proposed Inspect version range per solver\\n- Any breaking changes/compatibility risks called out","notes":"2026-02-02: Inspect internal API touchpoints to watch when varying versions: magenticone imports inspect_ai.model._call_tools.execute_tools; sqa/perplexity_base imports inspect_ai.model._providers.perplexity.PerplexityAPI; react/basic_agent imports inspect_ai.log._transcript.transcript.","status":"closed","priority":2,"issue_type":"task","owner":"stefanc@allenai.org","created_at":"2026-01-26T13:48:43.753644-08:00","created_by":"stefanc-ai2","updated_at":"2026-02-02T00:56:14.758149-08:00","closed_at":"2026-02-02T00:56:14.758149-08:00","close_reason":"Summary of changes:\\n- Added `docs/inspect_ai_inventory.md` with a per-solver inventory of `inspect_ai` API touchpoints (including internal/private imports), proposed per-solver Inspect version ranges (default `inspect_ai\u003e=0.3.114,\u003c0.4`), and compatibility risks to watch when varying versions.\\n- Highlighted the highest-risk internal touchpoints (react transcript, magenticone execute_tools, sqa PerplexityAPI) and noted astabench/Inspect deprecation forward-compat concerns.\\n- Verified key internal touchpoints exist on both `inspect_ai==0.3.114` and `inspect_ai==0.3.169` and linked to `docs/per_solver_envs.md` for override instructions.","dependencies":[{"issue_id":"agent-baselines-24n.1","depends_on_id":"agent-baselines-24n","type":"parent-child","created_at":"2026-01-26T13:48:43.754609-08:00","created_by":"stefanc-ai2"}],"comments":[{"id":4,"issue_id":"agent-baselines-24n.1","author":"stefanc-ai2","text":"Added `docs/inspect_ai_inventory.md` to inventory per-solver `inspect_ai` usage and version sensitivity. Documented the high-risk internal touchpoints (react transcript, magenticone execute_tools, sqa PerplexityAPI), proposed per-solver version ranges (default `inspect_ai\u003e=0.3.114,\u003c0.4`), and called out forward-compat risks (internal APIs + astabench deprecation warnings on newer Inspect). Verified the internal touchpoints exist on both `inspect_ai==0.3.114` and `inspect_ai==0.3.169` and linked to `docs/per_solver_envs.md` for override instructions.","created_at":"2026-02-02T08:56:07Z"}]}
{"id":"agent-baselines-24n.10","title":"Add make target for solver env smoke tests","description":"Add a Makefile target (e.g., make smoke-solvers) that calls the solver env smoke test script.","acceptance_criteria":"- make target documented in AGENTS.md or README\\n- Target runs the new smoke script","notes":"Duplicate of agent-baselines-24n.9 (smoke test + make target consolidated).","status":"closed","priority":3,"issue_type":"task","owner":"stefanc@allenai.org","created_at":"2026-01-26T15:03:39.191616-08:00","created_by":"stefanc-ai2","updated_at":"2026-01-30T01:36:06.956601-08:00","closed_at":"2026-01-30T01:36:06.956601-08:00","close_reason":"Duplicate of agent-baselines-24n.9","dependencies":[{"issue_id":"agent-baselines-24n.10","depends_on_id":"agent-baselines-24n","type":"parent-child","created_at":"2026-01-26T15:03:39.192413-08:00","created_by":"stefanc-ai2"},{"issue_id":"agent-baselines-24n.10","depends_on_id":"agent-baselines-24n.9","type":"blocks","created_at":"2026-01-26T15:03:39.19328-08:00","created_by":"stefanc-ai2"}]}
{"id":"agent-baselines-24n.11","title":"Add new solver onboarding checklist","description":"Extend docs/per_solver_envs.md (or README) with a concise checklist for adding a new solver uv sub-project and verifying it works. Prefer referencing the scaffold script (if present) as the default workflow.","acceptance_criteria":"- Checklist covers pyproject+uv.lock, setup/demo updates, env vars\n- References the scaffold script (if available)\n- Mentions running the solver smoke test target","status":"closed","priority":2,"issue_type":"task","owner":"stefanc@allenai.org","created_at":"2026-01-26T15:03:42.923738-08:00","created_by":"stefanc-ai2","updated_at":"2026-02-01T23:49:32.724005-08:00","closed_at":"2026-02-01T23:49:32.724005-08:00","close_reason":"Summary of changes:\\n- Added a concise \"New solver checklist (uv sub-project)\" section to `docs/per_solver_envs.md`, referencing `./scripts/new_solver.sh`, `./scripts/solver_uv.sh lock/sync/run`, env var listing in `solvers/\u003csolver\u003e/env` (and Docker behavior), and verification via solver demo + `make smoke-solvers`.\\n- Added an explicit reminder to review/commit the generated scaffold including `agent_baselines/solvers/\u003csolver\u003e/`.\\n- Added a beads comment summarizing the changes per workflow.","dependencies":[{"issue_id":"agent-baselines-24n.11","depends_on_id":"agent-baselines-24n","type":"parent-child","created_at":"2026-01-26T15:03:42.924588-08:00","created_by":"stefanc-ai2"},{"issue_id":"agent-baselines-24n.11","depends_on_id":"agent-baselines-24n.8","type":"blocks","created_at":"2026-01-26T15:03:42.925422-08:00","created_by":"stefanc-ai2"},{"issue_id":"agent-baselines-24n.11","depends_on_id":"agent-baselines-24n.9","type":"blocks","created_at":"2026-01-30T01:35:33.057759-08:00","created_by":"stefanc-ai2"},{"issue_id":"agent-baselines-24n.11","depends_on_id":"agent-baselines-24n.15","type":"blocks","created_at":"2026-02-01T16:52:25.883048-08:00","created_by":"stefanc-ai2"}],"comments":[{"id":2,"issue_id":"agent-baselines-24n.11","author":"stefanc-ai2","text":"Implemented onboarding checklist for new solver uv sub-projects in docs/per_solver_envs.md. Checklist covers scaffold (`./scripts/new_solver.sh`), lockfile generation/commit (`./scripts/solver_uv.sh lock` + commit `uv.lock`), setup/demo wiring via solver_uv.sh, env vars in `solvers/\u003csolver\u003e/env` (loaded by `make shell SOLVER=\u003csolver\u003e`), and verification via demo + `make smoke-solvers`.","created_at":"2026-02-02T07:49:26Z"}]}
{"id":"agent-baselines-24n.12","title":"Verify per-solver dependency isolation (astabench+inspect)","description":"Create a simple validation step (manual or scripted) showing two solvers can use different astabench and inspect_ai versions without conflict (e.g., react vs another solver migrated to a uv sub-project with a different astabench/inspect pin). Document exact commands and expected output.","acceptance_criteria":"- Documented validation step with exact commands (prefer scripts/solver_uv.sh)\n- Confirms distinct inspect_ai versions across two solver uv projects\n- Notes the chosen astabench/inspect version strategy and constraints (no mixed Inspect in-process)","status":"closed","priority":2,"issue_type":"task","owner":"stefanc@allenai.org","created_at":"2026-01-26T15:03:47.1545-08:00","created_by":"stefanc-ai2","updated_at":"2026-02-01T22:51:57.17362-08:00","closed_at":"2026-02-01T22:51:57.17362-08:00","close_reason":"Summary of changes:\\n- Added a \"Verify per-solver isolation (different Inspect versions)\" section to `docs/per_solver_envs.md` with exact `./scripts/solver_uv.sh sync/run` commands for `react` and `paper_finder` that print `inspect_ai.__version__`.\\n- Validated locally that the two solver envs run with different Inspect versions (`react=0.3.114`, `paper_finder=0.3.169`) and noted that expected versions should match each solver\\x27s pinned `solvers/\u003csolver\u003e/pyproject.toml`.\\n- Re-ran the test suite to ensure no regressions.","dependencies":[{"issue_id":"agent-baselines-24n.12","depends_on_id":"agent-baselines-24n","type":"parent-child","created_at":"2026-01-26T15:03:47.155344-08:00","created_by":"stefanc-ai2"},{"issue_id":"agent-baselines-24n.12","depends_on_id":"agent-baselines-24n.9","type":"blocks","created_at":"2026-01-26T15:03:47.156277-08:00","created_by":"stefanc-ai2"},{"issue_id":"agent-baselines-24n.12","depends_on_id":"agent-baselines-24n.3","type":"blocks","created_at":"2026-01-30T01:35:48.435048-08:00","created_by":"stefanc-ai2"},{"issue_id":"agent-baselines-24n.12","depends_on_id":"agent-baselines-24n.14","type":"blocks","created_at":"2026-02-01T16:51:53.052915-08:00","created_by":"stefanc-ai2"}]}
{"id":"agent-baselines-24n.13","title":"Migrate remaining solvers to uv sub-projects","description":"Convert remaining solver run artifacts under solvers/\u003csolver\u003e/ to uv sub-projects (pyproject.toml + committed uv.lock) and route setup.sh/demo.sh through scripts/solver_uv.sh.","acceptance_criteria":"- Each solver in solvers/ has solvers/\u003csolver\u003e/pyproject.toml + solvers/\u003csolver\u003e/uv.lock\n- Each solver setup.sh uses scripts/solver_uv.sh sync \u003csolver\u003e\n- Each solver demo.sh uses scripts/solver_uv.sh run \u003csolver\u003e -- ...\n- Solver READMEs note per-solver uv sub-project usage (or explicitly marked legacy)","status":"closed","priority":2,"issue_type":"task","owner":"stefanc@allenai.org","created_at":"2026-02-01T16:51:19.617368-08:00","created_by":"stefanc-ai2","updated_at":"2026-02-02T01:26:07.169139-08:00","closed_at":"2026-02-02T01:26:07.169139-08:00","close_reason":"All solvers now have solvers/\u003csolver\u003e/pyproject.toml + uv.lock and setup.sh/demo.sh are routed through scripts/solver_uv.sh; solver READMEs updated; smoke + tests pass.","dependencies":[{"issue_id":"agent-baselines-24n.13","depends_on_id":"agent-baselines-24n","type":"parent-child","created_at":"2026-02-01T16:51:19.618241-08:00","created_by":"stefanc-ai2"}],"comments":[{"id":5,"issue_id":"agent-baselines-24n.13","author":"stefanc-ai2","text":"Migrated remaining solvers under solvers/ to per-solver uv sub-projects.\n\nChanges:\n- Added per-solver sub-projects (new solvers/*/pyproject.toml + generated solvers/*/uv.lock) for: arxivdigestables, asta-v0, datavoyager, e2e_discovery, futurehouse, magenticone, smolagents, sqa, storm, super (react + paper_finder already existed).\n- Updated each solvers/\u003csolver\u003e/setup.sh to cd to repo root and run ./scripts/solver_uv.sh sync \u003csolver\u003e.\n- Updated each solvers/\u003csolver\u003e/demo.sh to cd to repo root and run via ./scripts/solver_uv.sh run \u003csolver\u003e -- \u003coriginal command\u003e.\n- Updated each solver README to explicitly note uv sub-project usage and point at solvers/\u003csolver\u003e/pyproject.toml + setup.sh.\n- Updated docker/Dockerfile solver stages to install deps from solver uv sub-projects (UV_FROZEN=1), and added missing stages for arxivdigestables, asta-v0, e2e_discovery.\n- Tightened hygiene tests: tests/test_solver_subproject_hygiene.py now requires README.md and checks it mentions solvers/\u003csolver\u003e/pyproject.toml.\n\nValidation:\n- uv run --extra dev --extra smolagents -m pytest -q\n- ./scripts/smoke_solvers.sh","created_at":"2026-02-02T09:26:03Z"}]}
{"id":"agent-baselines-24n.14","title":"Define astabench/inspect version strategy","description":"Decide and document the supported way(s) for a solver to diverge from the default astabench/inspect_ai pin (e.g., pin a different astabench release per solver, use uv override-dependencies for inspect_ai, or use a fork/local path of astabench). Call out limitations: orchestrator solvers can’t mix multiple Inspect versions in-process.","acceptance_criteria":"- Document chosen strategy + tradeoffs\n- Document how to implement it in solvers/\u003csolver\u003e/pyproject.toml and uv.lock\n- Add a concrete example (two solvers with different astabench/inspect_ai versions, or an override-based example)","status":"closed","priority":2,"issue_type":"task","owner":"stefanc@allenai.org","created_at":"2026-02-01T16:51:27.010797-08:00","created_by":"stefanc-ai2","updated_at":"2026-02-01T21:06:50.489634-08:00","closed_at":"2026-02-01T21:06:50.489634-08:00","close_reason":"Documented astabench/inspect_ai version strategy (default pin vs uv override vs fork) and added a concrete in-repo example by overriding paper_finder to inspect_ai==0.3.169 (react remains on 0.3.114); validated via scripts/smoke_solvers.sh.","dependencies":[{"issue_id":"agent-baselines-24n.14","depends_on_id":"agent-baselines-24n","type":"parent-child","created_at":"2026-02-01T16:51:27.011349-08:00","created_by":"stefanc-ai2"}]}
{"id":"agent-baselines-24n.15","title":"Add new solver scaffold script","description":"Add a scaffold utility (e.g., scripts/new_solver.sh \u003cname\u003e) that creates a standard solver layout: solvers/\u003cname\u003e/{README.md,env,setup.sh,demo.sh,pyproject.toml} plus a minimal code stub under agent_baselines/solvers/\u003cname\u003e/. The scaffold should follow the chosen astabench/inspect version strategy by default.","acceptance_criteria":"- One command scaffolds a new solver (run artifacts + code stub)\n- Scaffolded solver uses scripts/solver_uv.sh for lock/sync/run\n- Scaffold includes an env-var stub and README pointers\n- Scaffold defaults follow the chosen astabench/inspect version strategy\n- Docs reference the scaffold as the default way to add a solver","status":"closed","priority":2,"issue_type":"feature","owner":"stefanc@allenai.org","created_at":"2026-02-01T16:51:33.160956-08:00","created_by":"stefanc-ai2","updated_at":"2026-02-01T22:40:59.796811-08:00","closed_at":"2026-02-01T22:40:59.796811-08:00","close_reason":"Summary of changes:\\n- Added `scripts/new_solver.sh` scaffold for `solvers/\u003cname\u003e/` run artifacts + `agent_baselines/solvers/\u003cname\u003e/` code stub (validates name, checks repo root, avoids overwriting).\\n- Generated setup/demo scripts route through `./scripts/solver_uv.sh sync/run`; demo uses `mockllm/model` + arithmetic task so it runs without API keys.\\n- Scaffolded `solvers/\u003cname\u003e/pyproject.toml` defaults to `astabench==0.3.1` + `inspect_ai==0.3.114` with a commented uv override snippet for diverging Inspect versions.\\n- Added offline regression tests in `tests/test_new_solver_scaffold.py` and referenced the scaffold in `docs/per_solver_envs.md`.","dependencies":[{"issue_id":"agent-baselines-24n.15","depends_on_id":"agent-baselines-24n","type":"parent-child","created_at":"2026-02-01T16:51:33.161592-08:00","created_by":"stefanc-ai2"},{"issue_id":"agent-baselines-24n.15","depends_on_id":"agent-baselines-24n.14","type":"blocks","created_at":"2026-02-01T16:53:01.419827-08:00","created_by":"stefanc-ai2"}],"comments":[{"id":1,"issue_id":"agent-baselines-24n.15","author":"stefanc-ai2","text":"Fix close reason formatting (shell backticks were executed)","created_at":"2026-02-02T06:40:53Z"}]}
{"id":"agent-baselines-24n.16","title":"Make agent_baselines import robust in solver envs","description":"Remove the footgun where per-solver uv projects only work if you run from repo root (so agent_baselines is importable). Decide on one: (A) editable install of this repo in each solver project, or (B) enforce PYTHONPATH/working-directory in scripts/solver_uv.sh and docs.","acceptance_criteria":"- Chosen approach is documented\n- Per-solver uv runs can import agent_baselines reliably\n- Smoke test covers this (import agent_baselines)","status":"closed","priority":3,"issue_type":"task","owner":"stefanc@allenai.org","created_at":"2026-02-01T16:51:40.437305-08:00","created_by":"stefanc-ai2","updated_at":"2026-02-02T00:39:27.185399-08:00","closed_at":"2026-02-02T00:39:27.185399-08:00","close_reason":"Summary of changes:\\n- Chose approach (B): enforce repo-root working directory via scripts rather than installing `agent_baselines` into each solver env.\\n- `scripts/solver_uv.sh` now finds the repo root by walking up from `$PWD` to an ancestor with `pyproject.toml` + `solvers/`, then `cd`s to repo root before running `uv lock/sync/run` so `agent_baselines` imports reliably even when invoked from subdirectories.\\n- Updated react/paper_finder setup+demo scripts and the `scripts/new_solver.sh` scaffold to `cd` to repo root (based on `BASH_SOURCE[0]`) before calling `./scripts/solver_uv.sh`.\\n- Updated `docs/per_solver_envs.md` and extended `tests/test_solver_uv.py` to cover subdirectory invocation; ran full test suite.","dependencies":[{"issue_id":"agent-baselines-24n.16","depends_on_id":"agent-baselines-24n","type":"parent-child","created_at":"2026-02-01T16:51:40.43789-08:00","created_by":"stefanc-ai2"},{"issue_id":"agent-baselines-24n.16","depends_on_id":"agent-baselines-24n.9","type":"blocks","created_at":"2026-02-01T16:52:47.335141-08:00","created_by":"stefanc-ai2"}],"comments":[{"id":3,"issue_id":"agent-baselines-24n.16","author":"stefanc-ai2","text":"Implemented robust repo-root handling for per-solver uv runs. `scripts/solver_uv.sh` now finds the repo root by walking up from `$PWD` and `cd`s to it before running `uv lock/sync/run`, eliminating the “must run from repo root” footgun while keeping `agent_baselines` importable. Updated react/paper_finder setup+demo scripts and `scripts/new_solver.sh` scaffold to `cd` to repo root via `BASH_SOURCE[0]`. Updated `docs/per_solver_envs.md` and extended `tests/test_solver_uv.py` to cover running from a solver subdirectory. Ran `uv run --extra dev -m pytest -q`.","created_at":"2026-02-02T08:39:19Z"}]}
{"id":"agent-baselines-24n.17","title":"Add fast unit tests for scripts/solver_uv.sh","description":"Add deterministic, network-free unit tests for scripts/solver_uv.sh (lock/sync/run). Use a fake uv shim in PATH to assert the exact uv commands/flags invoked (e.g., --project, --python, --frozen) and verify error handling (missing uv, wrong cwd, missing solver pyproject, missing run command).","acceptance_criteria":"- Tests cover lock/sync/run happy paths using a fake uv shim\n- Tests cover key error cases (missing uv, not repo root, missing pyproject, missing run cmd)\n- SOLVER_UV_PYTHON override is exercised\n- Tests run offline and are included in the default test suite","status":"closed","priority":2,"issue_type":"task","assignee":"stefanc-ai2","owner":"stefanc@allenai.org","created_at":"2026-02-01T20:00:12.202223-08:00","created_by":"stefanc-ai2","updated_at":"2026-02-01T20:17:09.813465-08:00","closed_at":"2026-02-01T20:17:09.813465-08:00","close_reason":"Implemented fast, deterministic unit tests for scripts/solver_uv.sh (fake uv shim; covers lock/sync/run, error cases, and SOLVER_UV_PYTHON override).","dependencies":[{"issue_id":"agent-baselines-24n.17","depends_on_id":"agent-baselines-24n","type":"parent-child","created_at":"2026-02-01T20:00:12.202924-08:00","created_by":"stefanc-ai2"}]}
{"id":"agent-baselines-24n.18","title":"Add solver uv sub-project hygiene unit tests","description":"Add fast unit tests that enforce the standard per-solver uv sub-project wiring for any solver that has solvers/\u003csolver\u003e/pyproject.toml: required files exist (uv.lock, setup.sh, demo.sh, env), and setup/demo scripts invoke scripts/solver_uv.sh with the correct solver name.","acceptance_criteria":"- For each solver with solvers/\u003csolver\u003e/pyproject.toml, require uv.lock/setup.sh/demo.sh/env to exist\n- Assert setup.sh uses scripts/solver_uv.sh sync \u003csolver\u003e\n- Assert demo.sh uses scripts/solver_uv.sh run \u003csolver\u003e -- ...\n- Tests fail with clear messages listing offenders\n- Tests run offline and are included in the default test suite","status":"closed","priority":2,"issue_type":"task","assignee":"stefanc-ai2","owner":"stefanc@allenai.org","created_at":"2026-02-01T20:00:17.498995-08:00","created_by":"stefanc-ai2","updated_at":"2026-02-01T20:29:12.205648-08:00","closed_at":"2026-02-01T20:29:12.205648-08:00","close_reason":"Added fast unit tests that enforce uv sub-project hygiene for solvers with solvers/\u003csolver\u003e/pyproject.toml (required files + setup/demo invoke scripts/solver_uv.sh correctly).","dependencies":[{"issue_id":"agent-baselines-24n.18","depends_on_id":"agent-baselines-24n","type":"parent-child","created_at":"2026-02-01T20:00:17.499595-08:00","created_by":"stefanc-ai2"}]}
{"id":"agent-baselines-24n.2","title":"Design per-solver dependency strategy","description":"Decide the mechanism to support per-solver Inspect versions (e.g., per-solver dependency spec + uv override, per-solver pyproject, or multi-lock setup) and document the chosen approach.","acceptance_criteria":"- Written design note with tradeoffs\\n- Chosen approach + file layout\\n- Migration plan for existing solvers","notes":"Dependency on inventory removed; design can proceed in parallel. Inventory still needed for compat checks.","status":"closed","priority":2,"issue_type":"task","owner":"stefanc@allenai.org","created_at":"2026-01-26T13:48:53.690963-08:00","created_by":"stefanc-ai2","updated_at":"2026-01-30T01:35:49.104969-08:00","closed_at":"2026-01-30T01:35:49.104969-08:00","close_reason":"Strategy decided: per-solver uv sub-projects; design/migration docs tracked in agent-baselines-24n.8.","dependencies":[{"issue_id":"agent-baselines-24n.2","depends_on_id":"agent-baselines-24n","type":"parent-child","created_at":"2026-01-26T13:48:53.691939-08:00","created_by":"stefanc-ai2"}]}
{"id":"agent-baselines-24n.3","title":"Add scripts/solver_uv.sh + pilot uv sub-projects","description":"Provide shared uv sub-project tooling (lock/sync/run) and migrate initial pilot solvers (react, paper_finder) to per-solver pyproject.toml + committed uv.lock.","acceptance_criteria":"- scripts/solver_uv.sh provides lock/sync/run for solvers/\u003csolver\u003e uv projects\n- At least 2 solvers are uv sub-projects (react, paper_finder) with committed uv.lock\n- setup.sh/demo.sh for pilot solvers use scripts/solver_uv.sh\n- .gitignore allows solvers/**/uv.lock","notes":"Scaffolded React subproject: solvers/react/pyproject.toml; added setup.sh to uv sync --project; demo.sh now uses uv run --project.\n2026-01-30: Added scripts/solver_uv.sh wrapper (lock/sync/run) with SOLVER_UV_PYTHON (default 3.11) and repo-root validation. Updated react + paper_finder setup/demo scripts to use it. Added per-solver uv.lock for react (regen with --python 3.11) and created paper_finder uv sub-project (pyproject.toml + uv.lock). Updated .gitignore to allow solvers/**/uv.lock.\n2026-02-02: Scope clarified to tooling + pilot migration; full migration tracked in separate bead.","status":"closed","priority":2,"issue_type":"feature","owner":"stefanc@allenai.org","created_at":"2026-01-26T13:49:03.081721-08:00","created_by":"stefanc-ai2","updated_at":"2026-02-01T16:51:01.310815-08:00","closed_at":"2026-02-01T16:51:01.310815-08:00","close_reason":"Completed: scripts/solver_uv.sh exists and react + paper_finder are uv sub-project pilots with committed uv.lock.","dependencies":[{"issue_id":"agent-baselines-24n.3","depends_on_id":"agent-baselines-24n","type":"parent-child","created_at":"2026-01-26T13:49:03.082774-08:00","created_by":"stefanc-ai2"},{"issue_id":"agent-baselines-24n.3","depends_on_id":"agent-baselines-24n.2","type":"blocks","created_at":"2026-01-26T13:49:03.083763-08:00","created_by":"stefanc-ai2"}]}
{"id":"agent-baselines-24n.4","title":"Update Docker builds for per-solver deps","description":"Adjust docker/Dockerfile and Makefile so each solver image installs its own dependency set from solvers/\u003csolver\u003e/pyproject.toml + solvers/\u003csolver\u003e/uv.lock (via scripts/solver_uv.sh), without silently inheriting root-level deps. Prefer cache-friendly Docker layers (copy lockfiles early; sync with --frozen).","acceptance_criteria":"- Solver images build with their own astabench/inspect_ai (per-solver uv.lock)\n- Base image does not force a single solver dependency set\n- make shell uses solver-specific deps reliably\n- Build is cache-friendly (lockfiles copied before sync; sync uses --frozen)","status":"closed","priority":2,"issue_type":"task","assignee":"stefanc-ai2","owner":"stefanc@allenai.org","created_at":"2026-01-26T13:49:17.981187-08:00","created_by":"stefanc-ai2","updated_at":"2026-02-01T20:54:26.069918-08:00","closed_at":"2026-02-01T20:54:26.069918-08:00","close_reason":"Refactored docker/Dockerfile to support per-solver uv sub-project deps (cache-friendly stages), added paper_finder stage, updated Makefile default target and mounts, and updated .dockerignore to exclude solver venvs.","dependencies":[{"issue_id":"agent-baselines-24n.4","depends_on_id":"agent-baselines-24n","type":"parent-child","created_at":"2026-01-26T13:49:17.982102-08:00","created_by":"stefanc-ai2"},{"issue_id":"agent-baselines-24n.4","depends_on_id":"agent-baselines-24n.3","type":"blocks","created_at":"2026-01-26T13:49:17.983047-08:00","created_by":"stefanc-ai2"}]}
{"id":"agent-baselines-24n.5","title":"Update solver setup/demo scripts for per-solver deps","description":"Revise solvers/\u003csolver\u003e/setup.sh and demo.sh to use the new per-solver dependency tooling and ensure local runs select the right Inspect version.","acceptance_criteria":"- setup.sh installs solver-specific deps\n- demo.sh runs against that environment reliably\n- At least 2 solvers updated (react + one more)\n- No shared global env required","notes":"Updated solvers/react/setup.sh + demo.sh + README.md for per-solver uv project.\n2026-01-30: Migrated solvers/react and solvers/paper_finder setup/demo scripts to per-solver uv projects via scripts/solver_uv.sh.\n2026-02-02: Acceptance criteria met (react + paper_finder migrated); remaining solvers tracked separately.","status":"closed","priority":2,"issue_type":"task","owner":"stefanc@allenai.org","created_at":"2026-01-26T13:49:27.388989-08:00","created_by":"stefanc-ai2","updated_at":"2026-02-01T16:51:09.833398-08:00","closed_at":"2026-02-01T16:51:09.833398-08:00","close_reason":"Acceptance criteria met (react + paper_finder setup/demo scripts use per-solver uv projects via scripts/solver_uv.sh).","dependencies":[{"issue_id":"agent-baselines-24n.5","depends_on_id":"agent-baselines-24n","type":"parent-child","created_at":"2026-01-26T13:49:27.389933-08:00","created_by":"stefanc-ai2"},{"issue_id":"agent-baselines-24n.5","depends_on_id":"agent-baselines-24n.3","type":"blocks","created_at":"2026-01-26T13:49:27.390883-08:00","created_by":"stefanc-ai2"}]}
{"id":"agent-baselines-24n.6","title":"Add Inspect compatibility layer (if needed)","description":"Introduce a small compat module to smooth API differences across Inspect versions used by different solvers; update solver imports to use it where required.","acceptance_criteria":"- Compat helpers added (only if gaps exist)\\n- Solvers build against targeted Inspect versions\\n- No version-specific branching sprinkled throughout code","status":"closed","priority":3,"issue_type":"task","owner":"stefanc@allenai.org","created_at":"2026-01-26T13:49:36.600345-08:00","created_by":"stefanc-ai2","updated_at":"2026-02-02T01:57:37.588208-08:00","closed_at":"2026-02-02T01:57:37.588208-08:00","close_reason":"Centralized version-sensitive Inspect imports in agent_baselines/inspect_compat.py; updated solvers to use it; added regression test to prevent private imports outside compat; tests pass.","dependencies":[{"issue_id":"agent-baselines-24n.6","depends_on_id":"agent-baselines-24n","type":"parent-child","created_at":"2026-01-26T13:49:36.601436-08:00","created_by":"stefanc-ai2"},{"issue_id":"agent-baselines-24n.6","depends_on_id":"agent-baselines-24n.1","type":"blocks","created_at":"2026-01-26T13:49:36.602402-08:00","created_by":"stefanc-ai2"}],"comments":[{"id":6,"issue_id":"agent-baselines-24n.6","author":"stefanc-ai2","text":"Added a small Inspect compatibility layer to avoid version-specific branches scattered across solver code.\n\nChanges:\n- Added `agent_baselines/inspect_compat.py` to centralize version-sensitive Inspect touchpoints:\n  - `transcript` import with fallback for internal transcript path.\n  - `execute_tools` import with fallback for internal tool execution path.\n  - `perplexity_api_class()` to centralize the Perplexity provider internal import with a clear error if unavailable.\n- Updated solvers to use compat helpers instead of importing internal Inspect modules directly:\n  - `agent_baselines/solvers/react/basic_agent.py`\n  - `agent_baselines/solvers/magenticone/magentic_autogen_bridge.py`\n  - `agent_baselines/solvers/sqa/perplexity_base.py`\n- Added tests in `tests/test_inspect_compat.py`:\n  - Validates compat exports.\n  - Asserts no `inspect_ai.*._*` private imports exist outside `agent_baselines/inspect_compat.py`.\n- Updated `docs/inspect_ai_inventory.md` to reflect that internal touchpoints are now centralized in the compat module.\n\nValidation:\n- `uv run --extra dev --extra smolagents -m pytest -q`\n","created_at":"2026-02-02T09:57:32Z"}]}
{"id":"agent-baselines-24n.7","title":"Adjust tests/CI for per-solver Inspect versions","description":"Update test workflows (and CI, if present) so we have two layers of regression protection: (1) fast, network-free unit tests that validate per-solver uv wiring/tooling, and (2) optional integration smoke tests that run solver uv projects and verify imports/versions. Ensure solver-specific envs can be exercised without cross-contamination.","acceptance_criteria":"- Default test suite includes fast, offline unit tests for per-solver uv wiring/tooling\n- Integration smoke tests exist (e.g., make smoke-solvers) and are documented as optional/expensive\n- CI (if present) documents how to run per-solver tests/smokes\n- No hidden dependency on a single Inspect version\n- Includes a per-solver smoke/matrix check (at least 2 solvers) once the astabench/inspect strategy is defined","status":"closed","priority":3,"issue_type":"task","owner":"stefanc@allenai.org","created_at":"2026-01-26T13:49:47.999477-08:00","created_by":"stefanc-ai2","updated_at":"2026-02-02T02:16:55.45616-08:00","closed_at":"2026-02-02T02:16:55.45616-08:00","close_reason":"Default tests remain fast/offline; CI now runs a minimal per-solver smoke (react + paper_finder) to verify isolated Inspect versions; Makefile supports targeted smoke runs; docs updated.","dependencies":[{"issue_id":"agent-baselines-24n.7","depends_on_id":"agent-baselines-24n","type":"parent-child","created_at":"2026-01-26T13:49:48.000564-08:00","created_by":"stefanc-ai2"},{"issue_id":"agent-baselines-24n.7","depends_on_id":"agent-baselines-24n.3","type":"blocks","created_at":"2026-01-26T13:49:48.001543-08:00","created_by":"stefanc-ai2"},{"issue_id":"agent-baselines-24n.7","depends_on_id":"agent-baselines-24n.6","type":"blocks","created_at":"2026-01-26T13:49:48.002431-08:00","created_by":"stefanc-ai2"},{"issue_id":"agent-baselines-24n.7","depends_on_id":"agent-baselines-24n.17","type":"blocks","created_at":"2026-02-01T20:00:41.986977-08:00","created_by":"stefanc-ai2"},{"issue_id":"agent-baselines-24n.7","depends_on_id":"agent-baselines-24n.18","type":"blocks","created_at":"2026-02-01T20:00:42.166839-08:00","created_by":"stefanc-ai2"},{"issue_id":"agent-baselines-24n.7","depends_on_id":"agent-baselines-24n.9","type":"blocks","created_at":"2026-02-01T20:00:42.333541-08:00","created_by":"stefanc-ai2"}],"comments":[{"id":7,"issue_id":"agent-baselines-24n.7","author":"stefanc-ai2","text":"Adjusted tests/CI to keep default unit tests fast/offline while adding a small per-solver integration smoke check.\n\nChanges:\n- Makefile:\n  - Added `SMOKE_SOLVERS ?=` so `make smoke-solvers` can target a subset.\n  - Added `make smoke-solvers-ci` to run a minimal smoke set (`react` + `paper_finder`).\n  - Ensured smoke targets don’t redundantly rebuild images in CI (`IS_CI=true` builds happen in the workflow step).\n- CI:\n  - Updated `.github/workflows/ci-test.yml` to build the `agent-baselines` image (not just `agent-baselines-base`) so code/tests exist in the container.\n  - Added a CI step to run `make smoke-solvers-ci`, exercising two solvers with different `inspect_ai` versions (0.3.114 vs 0.3.169).\n  - Removed an unused `ENV_ARGS=...` line in the workflow.\n- Docs:\n  - Updated README to label `make smoke-solvers` as an integration check.\n\nValidation:\n- `uv run --extra dev --extra smolagents -m pytest -q`\n- `./scripts/smoke_solvers.sh react paper_finder`\n","created_at":"2026-02-02T10:16:51Z"}]}
{"id":"agent-baselines-24n.8","title":"Document per-solver Inspect version workflow","description":"Update README/AGENTS.md to explain the per-solver dependency model (uv sub-project per solver), including astabench/inspect_ai coupling, how to set versions, generate/commit solvers/\u003csolver\u003e/uv.lock, and run solvers/tests/Docker with the new workflow. Include a short migration plan + current migration status (which solvers are sub-projects vs legacy).","acceptance_criteria":"- README updated with new setup instructions\n- AGENTS.md reflects new workflow\n- Example commands updated\n- Explicitly documents astabench/inspect_ai coupling + chosen strategy","status":"closed","priority":2,"issue_type":"task","owner":"stefanc@allenai.org","created_at":"2026-01-26T13:49:57.908166-08:00","created_by":"stefanc-ai2","updated_at":"2026-02-01T23:01:06.553397-08:00","closed_at":"2026-02-01T23:01:06.553397-08:00","close_reason":"Summary of changes:\\n- Updated `README.md` with a new \"Per-solver environments (uv sub-projects)\" section documenting the canonical `./scripts/solver_uv.sh lock/sync/run` workflow, the `./scripts/new_solver.sh` scaffold, astabench↔inspect_ai exact-pin constraint + override strategy (with pointer to `docs/per_solver_envs.md`), current migration status (uv sub-projects: react/paper_finder), and `make smoke-solvers`.\\n- Updated `AGENTS.md` to reflect the new uv sub-project helper commands (including `make smoke-solvers`).\\n- Fixed a small pre-existing README grammar typo while touching the file.\\n- Re-ran the test suite to ensure no regressions.","dependencies":[{"issue_id":"agent-baselines-24n.8","depends_on_id":"agent-baselines-24n","type":"parent-child","created_at":"2026-01-26T13:49:57.909117-08:00","created_by":"stefanc-ai2"},{"issue_id":"agent-baselines-24n.8","depends_on_id":"agent-baselines-24n.3","type":"blocks","created_at":"2026-01-26T13:49:57.910096-08:00","created_by":"stefanc-ai2"},{"issue_id":"agent-baselines-24n.8","depends_on_id":"agent-baselines-24n.4","type":"blocks","created_at":"2026-01-26T13:49:57.910823-08:00","created_by":"stefanc-ai2"},{"issue_id":"agent-baselines-24n.8","depends_on_id":"agent-baselines-24n.5","type":"blocks","created_at":"2026-01-26T13:49:57.911497-08:00","created_by":"stefanc-ai2"},{"issue_id":"agent-baselines-24n.8","depends_on_id":"agent-baselines-24n.14","type":"blocks","created_at":"2026-02-01T16:52:13.597859-08:00","created_by":"stefanc-ai2"}]}
{"id":"agent-baselines-24n.9","title":"Add per-solver env smoke test (script + make target)","description":"Create a lightweight smoke test that iterates solver uv sub-projects (solvers/\u003csolver\u003e/pyproject.toml), runs sync as needed, and verifies the solver env can import astabench, inspect_ai, and agent_baselines (printing versions). Include a Makefile target (e.g. make smoke-solvers) that runs this check.","acceptance_criteria":"- Script runs across listed solvers\n- Verifies astabench + inspect_ai import/version per solver\n- Verifies agent_baselines is importable from solver env\n- Fails fast with clear error if a solver env is broken\n- Makefile target runs the smoke check and is documented","status":"closed","priority":2,"issue_type":"task","assignee":"stefanc-ai2","owner":"stefanc@allenai.org","created_at":"2026-01-26T15:03:35.344539-08:00","created_by":"stefanc-ai2","updated_at":"2026-02-01T20:37:03.317372-08:00","closed_at":"2026-02-01T20:37:03.317372-08:00","close_reason":"Implemented solver uv sub-project smoke script (scripts/smoke_solvers.sh) + Makefile target (make smoke-solvers) and documented it. Smoke verifies astabench/inspect_ai/agent_baselines imports per solver.","dependencies":[{"issue_id":"agent-baselines-24n.9","depends_on_id":"agent-baselines-24n","type":"parent-child","created_at":"2026-01-26T15:03:35.345452-08:00","created_by":"stefanc-ai2"},{"issue_id":"agent-baselines-24n.9","depends_on_id":"agent-baselines-24n.3","type":"blocks","created_at":"2026-01-26T15:03:35.346377-08:00","created_by":"stefanc-ai2"}]}
{"id":"agent-baselines-24o","title":"Decouple scoring from solver Inspect versions","description":"Run solvers with per-solver Inspect versions while keeping scoring pinned to a frozen Inspect version. Implement a two-phase workflow: (1) solve to logs without scoring, (2) score logs in a dedicated scorer environment.","acceptance_criteria":"- Solvers can run with `--no-score` and produce logs suitable for later scoring\n- Scoring runs in a dedicated, frozen scorer env (pinned Inspect) independent of solver envs\n- Solve→score boundary uses stable artifacts (enforce JSON logs for score-later runs)\n- CI includes a minimal cross-version solve→score check (at least two solver Inspect versions)\n- Docs describe the workflow and how to use the scorer env","status":"closed","priority":1,"issue_type":"epic","owner":"stefanc@allenai.org","created_at":"2026-02-02T17:25:25.835296-08:00","created_by":"stefanc-ai2","updated_at":"2026-02-03T14:36:18.465611-08:00","closed_at":"2026-02-03T14:36:18.465611-08:00","close_reason":"Closed","comments":[{"id":15,"issue_id":"agent-baselines-24o","author":"stefanc-ai2","text":"Closed.\n\nDelivered:\n- Frozen scorer env:  pins  for reproducible scoring independent of solver Inspect versions.\n- Two-phase workflow: solve with , then score in scorer env via  + optional  aggregation.\n- CI validation: docker build  --target agent-baselines . --tag agent-baselines -f ./docker/Dockerfile\nRunning inspect eval-set --solver scripts/arithmetic_solver.py@arithmetic_solver --model mockllm/model --limit 1 --no-score --log-format json --log-dir /tmp/solve-score-Qf4p6JNO --display plain scripts/ci/arithmetic_task.py@arithmetic_smoke\n[02/03/26 22:34:34] WARNING  Unexpected exception loading      entrypoints.py:35\n                             entrypoints from                                   \n                             'astabench.evals._registry': No                    \n                             module named                                       \n                             'inspect_ai.tool._mcp._mcp'                        \n                    WARNING  Unexpected exception loading      entrypoints.py:35\n                             entrypoints from                                   \n                             'astabench.evals._registry': No                    \n                             module named                                       \n                             'inspect_ai.tool._mcp._mcp'                        \n                    WARNING  Unexpected exception loading      entrypoints.py:35\n                             entrypoints from                                   \n                             'astabench.evals._registry': No                    \n                             module named                                       \n                             'inspect_ai.tool._mcp._mcp'                        \n---------------------------------------------------------\narithmetic_smoke (1 sample): mockllm/model               \nmax_tasks: 4, dataset: (samples)                         \n---------------------------------------------------------\n                                                         \n                    WARNING  Unexpected exception loading      entrypoints.py:35\n                             entrypoints from                                   \n                             'astabench.evals._registry': No                    \n                             module named                                       \n                             'inspect_ai.tool._mcp._mcp'                        \n[02/03/26 22:34:35] WARNING  Unexpected exception loading      entrypoints.py:35\n                             entrypoints from                                   \n                             'astabench.evals._registry': No                    \n                             module named                                       \n                             'inspect_ai.tool._mcp._mcp'                        \n                    WARNING  Unexpected exception loading      entrypoints.py:35\n                             entrypoints from                                   \n                             'astabench.evals._registry': No                    \n                             module named                                       \n                             'inspect_ai.tool._mcp._mcp'                        \n                    WARNING  Unexpected exception loading      entrypoints.py:35\n                             entrypoints from                                   \n                             'astabench.evals._registry': No                    \n                             module named                                       \n                             'inspect_ai.tool._mcp._mcp'                        \n                    WARNING  Unexpected exception loading      entrypoints.py:35\n                             entrypoints from                                   \n                             'astabench.evals._registry': No                    \n                             module named                                       \n                             'inspect_ai.tool._mcp._mcp'                        \nSteps:   1/1 100% | Samples:   1/  1 |  | HTTP retries: 0\n\n---------------------------------------------------------                       \narithmetic_smoke (1 sample): mockllm/model                                      \nmax_tasks: 4, dataset: (samples)                                                \n                                                                                \ntotal time:                                   0:00:01                           \n                                                                                \nLog:                                                                            \n../tmp/solve-score-Qf4p6JNO/2026-02-03T22-34-34+00-00_arithmetic-smoke_FEJtF8bD…\n---------------------------------------------------------                       \n                                                                                \n                    WARNING  Unexpected exception loading      entrypoints.py:35\n                             entrypoints from                                   \n                             'astabench.evals._registry': No                    \n                             module named                                       \n                             'inspect_ai.tool._mcp._mcp'                        \nCompleted all tasks in '/tmp/solve-score-Qf4p6JNO' successfully\n                    WARNING  Unexpected exception loading      entrypoints.py:35\n                             entrypoints from                                   \n                             'astabench.evals._registry': No                    \n                             module named                                       \n                             'inspect_ai.tool._mcp._mcp'                        \nYou can now run 'astabench score /tmp/solve-score-Qf4p6JNO' to score the results\n\nScoring arithmetic_smoke (1 samples)\n\n\n╭─ Results for arithmetic_smoke ───────────────────────────────────────────────╮\n│                                                                              │\n│  check_arithmetic                                                            │\n│  accuracy          0.000                                                     │\n│  stderr            0.000                                                     │\n│                                                                              │\n│  Log:                                                                        │\n│ /tmp/solve-score-Qf4p6JNO/2026-02-03T22-34-34+00-00_arithmetic-smoke_FEJtF8… │\n╰──────────────────────────────────────────────────────────────────────────────╯\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\nModel costs hash 440711902e484e4eec0b5c3409d3b953fb2164338d84269ac4ecf54694b30aeb.\nlitellm version: 1.75.8\nProcessing logs in /tmp/solve-score-Qf4p6JNO\nWrote scores to /tmp/solve-score-Qf4p6JNO/scores.json\nWrote summary scores to /tmp/solve-score-Qf4p6JNO/summary_stats.json runs Running inspect eval-set --solver scripts/arithmetic_solver.py@arithmetic_solver --model mockllm/model --limit 1 --no-score --log-format json --log-dir /var/folders/0f/5k4yr1015wsby1jrs88lbs440000gp/T/solve-score-XXXXXXXX.JOWngFRbe0 --display plain scripts/ci/arithmetic_task.py@arithmetic_smoke\n[02/03/26 14:35:08] WARNING  Unexpected exception loading      entrypoints.py:35\n                             entrypoints from                                   \n                             'astabench.evals._registry': No                    \n                             module named                                       \n                             'inspect_ai.tool._mcp._mcp'                        \n                    WARNING  Unexpected exception loading      entrypoints.py:35\n                             entrypoints from                                   \n                             'astabench.evals._registry': No                    \n                             module named                                       \n                             'inspect_ai.tool._mcp._mcp'                        \n                    WARNING  Unexpected exception loading      entrypoints.py:35\n                             entrypoints from                                   \n                             'astabench.evals._registry': No                    \n                             module named                                       \n                             'inspect_ai.tool._mcp._mcp'                        \n---------------------------------------------------------\narithmetic_smoke (1 sample): mockllm/model               \nmax_tasks: 4, dataset: (samples)                         \n---------------------------------------------------------\n                                                         \n                    WARNING  Unexpected exception loading      entrypoints.py:35\n                             entrypoints from                                   \n                             'astabench.evals._registry': No                    \n                             module named                                       \n                             'inspect_ai.tool._mcp._mcp'                        \n[02/03/26 14:35:09] WARNING  Unexpected exception loading      entrypoints.py:35\n                             entrypoints from                                   \n                             'astabench.evals._registry': No                    \n                             module named                                       \n                             'inspect_ai.tool._mcp._mcp'                        \n                    WARNING  Unexpected exception loading      entrypoints.py:35\n                             entrypoints from                                   \n                             'astabench.evals._registry': No                    \n                             module named                                       \n                             'inspect_ai.tool._mcp._mcp'                        \n                    WARNING  Unexpected exception loading      entrypoints.py:35\n                             entrypoints from                                   \n                             'astabench.evals._registry': No                    \n                             module named                                       \n                             'inspect_ai.tool._mcp._mcp'                        \n                    WARNING  Unexpected exception loading      entrypoints.py:35\n                             entrypoints from                                   \n                             'astabench.evals._registry': No                    \n                             module named                                       \n                             'inspect_ai.tool._mcp._mcp'                        \nSteps:   1/1 100% | Samples:   1/  1 |  | HTTP retries: 0\n\n---------------------------------------------------------                       \narithmetic_smoke (1 sample): mockllm/model                                      \nmax_tasks: 4, dataset: (samples)                                                \n                                                                                \ntotal time:                                   0:00:01                           \n                                                                                \nLog:                                                                            \n../../../../../var/folders/0f/5k4yr1015wsby1jrs88lbs440000gp/T/solve-score-XXXX…\n---------------------------------------------------------                       \n                                                                                \n                    WARNING  Unexpected exception loading      entrypoints.py:35\n                             entrypoints from                                   \n                             'astabench.evals._registry': No                    \n                             module named                                       \n                             'inspect_ai.tool._mcp._mcp'                        \nCompleted all tasks in \n'/var/folders/0f/5k4yr1015wsby1jrs88lbs440000gp/T/solve-score-XXXXXXXX.JOWngFRbe\n0' successfully\n                    WARNING  Unexpected exception loading      entrypoints.py:35\n                             entrypoints from                                   \n                             'astabench.evals._registry': No                    \n                             module named                                       \n                             'inspect_ai.tool._mcp._mcp'                        \nYou can now run 'astabench score /var/folders/0f/5k4yr1015wsby1jrs88lbs440000gp/T/solve-score-XXXXXXXX.JOWngFRbe0' to score the results\n\nScoring arithmetic_smoke (1 samples)\n\n\n╭─ Results for arithmetic_smoke ───────────────────────────────────────────────╮\n│                                                                              │\n│  check_arithmetic                                                            │\n│  accuracy          0.000                                                     │\n│  stderr            0.000                                                     │\n│                                                                              │\n│  Log:                                                                        │\n│ /var/folders/0f/5k4yr1015wsby1jrs88lbs440000gp/T/solve-score-XXXXXXXX.JOWng… │\n╰──────────────────────────────────────────────────────────────────────────────╯\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\n\n\u001b[1;31mProvider List: https://docs.litellm.ai/docs/providers\u001b[0m\n\nModel costs hash 440711902e484e4eec0b5c3409d3b953fb2164338d84269ac4ecf54694b30aeb.\nlitellm version: 1.75.8\nProcessing logs in /var/folders/0f/5k4yr1015wsby1jrs88lbs440000gp/T/solve-score-XXXXXXXX.JOWngFRbe0\nWrote scores to /var/folders/0f/5k4yr1015wsby1jrs88lbs440000gp/T/solve-score-XXXXXXXX.JOWngFRbe0/scores.json\nWrote summary scores to /var/folders/0f/5k4yr1015wsby1jrs88lbs440000gp/T/solve-score-XXXXXXXX.JOWngFRbe0/summary_stats.json to prove cross-version solve→score works (solver env → frozen scorer env).\n- Docs:  § Decoupled scoring documents setup, workflow, and when  is needed.\n- Helpers:  (optional log conversion).\n\nKnown limitations:\n- JSON logs are the stable artifact boundary; other formats may need conversion.\n- Re-scoring logs may require .","created_at":"2026-02-03T22:35:35Z"},{"id":16,"issue_id":"agent-baselines-24o","author":"stefanc-ai2","text":"Closed.\n\nDelivered:\n- Frozen scorer env: solvers/scorer/ pins inspect_ai==0.3.114 for reproducible scoring independent of solver Inspect versions.\n- Two-phase workflow: solve with astabench eval --no-score --log-format json, then score logs in the scorer env via inspect score, with optional astabench score aggregation.\n- CI validation: make solve-score-ci runs scripts/smoke_solve_score.sh to prove cross-version solve→score works (solver env -\u003e frozen scorer env).\n- Docs: docs/per_solver_envs.md includes a Decoupled scoring section covering setup, workflow, and when inspect log convert is needed.\n- Helpers: scripts/inspect_log_convert.sh for optional log format conversion.\n\nKnown limitations:\n- JSON logs are the stable artifact boundary; other formats may need conversion.\n- Re-scoring logs may require inspect score --action overwrite.\n","created_at":"2026-02-03T22:36:15Z"}]}
{"id":"agent-baselines-24o.1","title":"Add frozen scorer uv sub-project","description":"Create a dedicated uv sub-project for scoring (frozen Inspect), so logs generated by solvers using various Inspect versions can be scored independently.","acceptance_criteria":"- Add `solvers/scorer/pyproject.toml` + committed `solvers/scorer/uv.lock` pinned to the blessed `astabench`+`inspect_ai` pairing\n- Add `solvers/scorer/setup.sh` (uses `./scripts/solver_uv.sh sync scorer`)\n- Add `solvers/scorer/README.md` explaining this is a scoring env (not a solver)\n- Provide a canonical scoring command, e.g. `./scripts/solver_uv.sh run scorer -- astabench score \u003clog_dir\u003e` (or `inspect score \u003clog_file\u003e`)\n- Ensure scorer env does not require any solver-specific deps","status":"closed","priority":1,"issue_type":"task","assignee":"stefanc-ai2","owner":"stefanc@allenai.org","created_at":"2026-02-02T17:25:57.544926-08:00","created_by":"stefanc-ai2","updated_at":"2026-02-02T17:43:29.257452-08:00","closed_at":"2026-02-02T17:43:29.257452-08:00","close_reason":"Added solvers/scorer uv sub-project pinned to astabench+inspect_ai for frozen scoring, with setup/demo scripts and docs.","dependencies":[{"issue_id":"agent-baselines-24o.1","depends_on_id":"agent-baselines-24o","type":"parent-child","created_at":"2026-02-02T17:26:02.269352-08:00","created_by":"stefanc-ai2"}],"comments":[{"id":9,"issue_id":"agent-baselines-24o.1","author":"stefanc-ai2","text":"Implemented the frozen scorer uv sub-project.\n\nChanges:\n- Added `solvers/scorer/` as a dedicated scoring environment pinned to `astabench==0.3.1` + `inspect_ai==0.3.114`.\n- Included `pyproject.toml`, committed `uv.lock`, and standard `setup.sh`/`demo.sh` wiring through `./scripts/solver_uv.sh`.\n- Documented canonical commands in `solvers/scorer/README.md` (including a cross-version solve→score example and the recommendation to use `--log-format json` for logs).\n\nUsage:\n- Install: `./solvers/scorer/setup.sh`\n- Score a log dir: `./scripts/solver_uv.sh run scorer -- astabench score \u003clog_dir\u003e`\n","created_at":"2026-02-03T01:43:24Z"}]}
{"id":"agent-baselines-24o.2","title":"Add solve→score wrapper (two-phase workflow)","description":"Add a small wrapper (script and/or Make target) that runs solve in a solver env with `--no-score --log-format json`, then scores the resulting logs in the frozen scorer env.","acceptance_criteria":"- Provide a canonical wrapper (e.g. `scripts/eval_then_score.sh`) that: (1) runs `astabench eval`/`inspect eval` with `--no-score --log-format json` into a chosen log dir, then (2) runs `astabench score`/`inspect score` in the scorer env\n- Wrapper accepts a solver name and forwards arbitrary extra eval args\n- Uses the solver uv env for solving (`./scripts/solver_uv.sh run \u003csolver\u003e -- ...`) and the scorer uv env for scoring (`./scripts/solver_uv.sh run scorer -- ...`)\n- Documented usage and sensible exit codes","status":"closed","priority":2,"issue_type":"task","assignee":"stefanc-ai2","owner":"stefanc@allenai.org","created_at":"2026-02-02T17:26:10.0516-08:00","created_by":"stefanc-ai2","updated_at":"2026-02-02T18:03:39.533784-08:00","closed_at":"2026-02-02T18:03:39.533784-08:00","close_reason":"Added scripts/eval_then_score.sh wrapper + unit tests; provides canonical solve→score flow using JSON logs and frozen scorer env.","dependencies":[{"issue_id":"agent-baselines-24o.2","depends_on_id":"agent-baselines-24o","type":"parent-child","created_at":"2026-02-02T17:27:44.943893-08:00","created_by":"stefanc-ai2"}],"comments":[{"id":10,"issue_id":"agent-baselines-24o.2","author":"stefanc-ai2","text":"Implemented a canonical two-phase solve→score wrapper that decouples scoring from solver dependency stacks.\n\nChanges:\n- Added `scripts/eval_then_score.sh`, which:\n  - Runs solve in a solver uv env via `./scripts/solver_uv.sh run \u003csolver\u003e -- astabench eval ...`\n  - Enforces `--no-score --log-format json` and a chosen `--log-dir` (default: `logs/\u003csolver\u003e_two_phase_\u003ctimestamp\u003e`)\n  - Then scores the resulting logs in the frozen scorer env via `./scripts/solver_uv.sh run scorer -- astabench score \u003clog_dir\u003e`\n  - Is repo-root aware and has `--help`.\n- Added deterministic unit tests `tests/test_eval_then_score.py` using a stub `scripts/solver_uv.sh` (covers happy path, `--log-dir` parsing, default log dir behavior, repo-root detection, and error cases).\n\nUsage:\n- `./scripts/eval_then_score.sh react --log-dir logs/react_two_phase -- --split validation --solver ... --model ... --limit 1`\n\nValidation:\n- `uv run --extra dev -m pytest -q tests/test_eval_then_score.py`\n","created_at":"2026-02-03T02:03:36Z"}]}
{"id":"agent-baselines-24o.3","title":"CI: cross-version solve→score smoke","description":"Add a CI check that runs solving in a solver env (Inspect version A) with `--no-score --log-format json`, then scores the resulting logs in the frozen scorer env (Inspect version B).","acceptance_criteria":"- Add a CI step/target that:\n  - Runs `./scripts/solver_uv.sh run \u003csolver\u003e -- astabench eval ... --no-score --log-format json --log-dir \u003ctmp\u003e`\n  - Then runs `./scripts/solver_uv.sh run scorer -- astabench score \u003ctmp\u003e`\n- Uses a lightweight, keyless configuration (e.g. mockllm + limit=1)\n- Proves at least two different Inspect versions are involved (e.g. solver uses inspect_ai!=scorer inspect_ai)\n- Fails CI on non-zero exit","status":"closed","priority":2,"issue_type":"task","assignee":"stefanc-ai2","owner":"stefanc@allenai.org","created_at":"2026-02-02T17:28:06.976588-08:00","created_by":"stefanc-ai2","updated_at":"2026-02-03T11:17:57.628225-08:00","closed_at":"2026-02-03T11:17:57.628225-08:00","close_reason":"Added CI solve→score smoke proving cross-version (paper_finder vs scorer) scoring via JSON logs.","dependencies":[{"issue_id":"agent-baselines-24o.3","depends_on_id":"agent-baselines-24o","type":"parent-child","created_at":"2026-02-02T17:28:07.137586-08:00","created_by":"stefanc-ai2"}],"comments":[{"id":11,"issue_id":"agent-baselines-24o.3","author":"stefanc-ai2","text":"Implemented a CI cross-version solve→score smoke (two-phase) to prove scoring can run on a frozen Inspect version independent of solver Inspect.\n\nChanges:\n- Added deterministic, keyless solver `scripts/arithmetic_solver.py` (no model calls).\n- Added minimal Inspect task `scripts/ci/arithmetic_task.py` + suite config `scripts/ci/two_phase_smoke.yml`.\n- Added `scripts/smoke_solve_score.sh`:\n  - Verifies solver vs scorer `inspect_ai` versions differ.\n  - Runs `astabench eval` in the solver env (default: `paper_finder`) with `--no-score --log-format json` into a temp log dir.\n  - Scores logs in the frozen scorer env using `inspect score --scorer scripts/ci/arithmetic_task.py@check_arithmetic --overwrite`.\n  - Aggregates via `astabench score` (sets `LITELLM_LOCAL_MODEL_COST_MAP=True` for keyless scoring).\n- Wired into CI via `make solve-score-ci` and added a CI step (with `timeout-minutes: 10`) in `.github/workflows/ci-test.yml`.\n\nUsage:\n- Local: `./scripts/smoke_solve_score.sh paper_finder`\n- CI: `make solve-score-ci`\n\nValidation:\n- Ran `./scripts/smoke_solve_score.sh paper_finder` locally.\n- Ran `uv run --extra dev -m pytest -q`.\n","created_at":"2026-02-03T19:17:52Z"}]}
{"id":"agent-baselines-24o.4","title":"Docs: decoupled scoring workflow","description":"Document how to run solvers with per-solver Inspect versions while scoring in a frozen scorer env, using JSON logs as the artifact boundary.","acceptance_criteria":"- Add/extend docs describing the two-phase workflow:\n  - Solve: `--no-score --log-format json`\n  - Score: `./scripts/solver_uv.sh run scorer -- astabench score \u003clog_dir\u003e`\n- Call out constraints (cannot mix Inspect versions in one Python process)\n- Explain when `inspect log convert` might be needed\n- Point to `solvers/scorer/` as the canonical scorer env","status":"closed","priority":2,"issue_type":"task","owner":"stefanc@allenai.org","created_at":"2026-02-02T17:28:12.185004-08:00","created_by":"stefanc-ai2","updated_at":"2026-02-03T12:02:55.621585-08:00","closed_at":"2026-02-03T12:02:55.621585-08:00","close_reason":"Closed","dependencies":[{"issue_id":"agent-baselines-24o.4","depends_on_id":"agent-baselines-24o","type":"parent-child","created_at":"2026-02-02T17:28:12.345317-08:00","created_by":"stefanc-ai2"}],"comments":[{"id":12,"issue_id":"agent-baselines-24o.4","author":"stefanc-ai2","text":"Closed: documented decoupled scoring workflow.\n\n- docs/per_solver_envs.md: added a Decoupled scoring (two-phase) section with commands for solve (--no-score --log-format json) and score in the frozen scorer env (inspect score per-log via logs.json manifest, then optional astabench score aggregation).\n- docs/per_solver_envs.md: clarified when/why inspect log convert is useful (convert non-JSON logs to json in an env that can read them).\n- solvers/scorer/README.md: corrected usage to emphasize inspect score materializes scores (and how to pass --scorer when needed), with astabench score as an optional aggregation step.\n\nValidation: make test","created_at":"2026-02-03T20:02:51Z"}]}
{"id":"agent-baselines-24o.5","title":"Optional: log conversion helper for scoring","description":"Provide a small helper (script or doc snippet) to convert logs between Inspect formats/versions (`inspect log convert`) when scoring logs produced by a different Inspect version.","acceptance_criteria":"- Provide a documented command (or wrapper) to run `inspect log convert` on a directory of logs\n- Include guidance on when conversion is required vs. optional\n- Keep this optional/non-blocking for the main workflow","status":"closed","priority":3,"issue_type":"task","owner":"stefanc@allenai.org","created_at":"2026-02-02T17:28:16.71704-08:00","created_by":"stefanc-ai2","updated_at":"2026-02-03T12:16:22.867749-08:00","closed_at":"2026-02-03T12:16:22.867749-08:00","close_reason":"Closed","dependencies":[{"issue_id":"agent-baselines-24o.5","depends_on_id":"agent-baselines-24o","type":"parent-child","created_at":"2026-02-02T17:28:16.874514-08:00","created_by":"stefanc-ai2"}],"comments":[{"id":13,"issue_id":"agent-baselines-24o.5","author":"stefanc-ai2","text":"Closed: added optional log conversion helper for cross-version scoring.\n\n- Added : repo-root aware wrapper that runs  inside a chosen uv env (solver env or ) via .\n- Added deterministic unit tests  (stub  logs invocations; covers help/outside-repo and arg validation).\n- Updated  to mention the wrapper as an alternative to calling  directly.\n\nValidation: ......                                                                   [100%]\n6 passed in 0.39s","created_at":"2026-02-03T20:15:54Z"},{"id":14,"issue_id":"agent-baselines-24o.5","author":"stefanc-ai2","text":"Closing summary (corrected):\n\n- Added scripts/inspect_log_convert.sh: repo-root aware wrapper that runs inspect log convert inside a chosen uv env (solver env or scorer) via ./scripts/solver_uv.sh run \u003cenv\u003e -- inspect log convert ...\n- Added deterministic unit tests: tests/test_inspect_log_convert.py (stub scripts/solver_uv.sh logs invocations; covers help/outside-repo and arg validation).\n- Updated docs/per_solver_envs.md to mention the wrapper as an alternative to calling inspect log convert directly.\n\nValidation: uv run --extra dev -m pytest -q tests/test_inspect_log_convert.py","created_at":"2026-02-03T20:16:20Z"}]}
{"id":"agent-baselines-m96","title":"Ignore .ccb_config session metadata","description":"Add .ccb_config/ to .gitignore so local CCB session files never show up as untracked changes.","acceptance_criteria":"- .ccb_config/ is ignored by git","status":"closed","priority":3,"issue_type":"chore","owner":"stefanc@allenai.org","created_at":"2026-01-30T01:41:04.679101-08:00","created_by":"stefanc-ai2","updated_at":"2026-01-30T01:42:29.652791-08:00","closed_at":"2026-01-30T01:42:29.652791-08:00","close_reason":"Implemented: .ccb_config/ now ignored in .gitignore."}
